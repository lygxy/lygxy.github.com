main_1.py
```
#!/usr/bin/env python
# coding: utf-8
import torch

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

from config_1 import *
from torch import nn

def main():
    f_name = FILE_NAME
    print(f_name)
    data = pd.read_csv(f_name)
    print(data.info())
    X = torch.from_numpy(data.Sn.values.reshape(-1,1).astype(np.float32))
    Y = torch.from_numpy(data.Num.values.reshape(-1,1).astype(np.float32))
    model = nn.Linear(1,1)

    loss_fn = nn.MSELoss()

    opt = torch.optim.SGD(model.parameters(), lr=0.0001)
    for epoch in range(5): # 训练次数，设置为5000
        for x,y in zip(X,Y):
            y_pred = model(x)
            loss = loss_fn(y, y_pred)
            opt.zero_grad()
            loss.backward()
            opt.step()
    print(model.weight)
    print(model.bias)

    plt.scatter(data.Sn, data.Num)
    plt.plot(data.Sn, data.Num)
    plt.plot(X.numpy(), model(X).data.numpy(), c='r')
    plt.show() 

if __name__ == '__main__':
    main()
    exit()

```

config_1.py
```
# config file

FILE_NAME = input("请输入csv文件名：") + '.csv'
```

### output
##### 5次
(py37tf2) D:\day\20201212_github>python main_1.py
```
请输入csv文件名：ssq_b
ssq_b.csv
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 50 entries, 0 to 49
Data columns (total 3 columns):
 #   Column      Non-Null Count  Dtype
---  ------      --------------  -----
 0   Unnamed: 0  50 non-null     int64
 1   Sn          50 non-null     float64
 2   Num         50 non-null     int64
dtypes: float64(1), int64(2)
memory usage: 1.3 KB
None
Parameter containing:
tensor([[2407.5488]], requires_grad=True)
Parameter containing:
tensor([103.6647], requires_grad=True)

【pic1】
```

#####5000次
请输入csv文件名：ssq_b
ssq_b.csv
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 50 entries, 0 to 49
Data columns (total 3 columns):
 #   Column      Non-Null Count  Dtype
---  ------      --------------  -----
 0   Unnamed: 0  50 non-null     int64
 1   Sn          50 non-null     float64
 2   Num         50 non-null     int64
dtypes: float64(1), int64(2)
memory usage: 1.3 KB
None
Parameter containing:
tensor([[2712.9612]], requires_grad=True)
Parameter containing:
tensor([-6146.4692], requires_grad=True)
【pic2】
